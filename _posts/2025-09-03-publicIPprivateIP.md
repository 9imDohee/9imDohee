---
title: "[Network] Packet"
excerpt: "Pack it!"

categories:
  - Categories1
tags:
  - [tag1, tag2]

permalink: /categories1/post-name-here/

toc: true
toc_sticky: true

date: 2025-09-03
last_modified_at: 2025-09-03
---
![](https://velog.velcdn.com/images/do_e/post/00a2720f-6d13-4b30-8834-7e7348ce81ab/image.png)

## IP 주소
IP (Internet Protocol): 데이터를 주고받기 위한 규칙과 주소 체계
네트워크에서 장치(컴퓨터, 스마트폰, 서버 등)를 식별하고 위치를 지정하기 위한 고유한 주소
- 역할
1) 데이터를 어디로 보내야 하는지 지정
2) 장치를 고유하게 식별

## IP 주소의 유형
(1) 공인 IP: 인터넷에 직접 연결되는 주소
(2) 사설 IP: 집이나 회사 내부 네트워크용 주소

| 구분 | 공인 IP (Public IP) | 사설 IP (Private IP) |
| --- | --- | --- |
| **정의** | 인터넷에서 고유하게 식별되는 IP 주소 | 로컬 네트워크(집, 회사 등) 내에서 사용하는 IP |
| **사용 범위** | 전 세계 인터넷 | 내부 네트워크 (LAN 등) |
| **중복 여부** | **중복 불가** (전 세계에서 유일) | **중복 가능** (다른 네트워크에서는 중복 가능) |
| **발급 주체** | 인터넷 서비스 제공자(ISP) | 라우터, DHCP 서버 등 |
| **인터넷 접속** | 직접 인터넷 접속 가능 | NAT 등을 통해서만 인터넷 접속 가능 |
| **IP 주소 예** | 8.8.8.8 (Google DNS), 203.255.112.14 | 192.168.0.1, 10.0.0.5, 172.16.1.100 |
| **보안성** | 외부에 노출됨 → 해킹 대상 될 수 있음 | 외부에서 직접 접근 불가 → 상대적으로 안전 |
| **필요 장비** | 고정/동적 공인 IP 필요 | 라우터 또는 공유기에서 자동 할당 |

<br/>

### 공인 IP
: 인터넷 상에서 전 세계적으로 유일하게 식별되는 IP 주소
고유하게 식별할 수 있어야 함
- 인터넷 제공업체(ISP)가 할당: 전 세계에서 중복되지 않도록 관리됨
- 외부 인터넷에서 직접 접근 가능
- 서버를 운영하거나 원격 접속이 필요할 때 필수
- 할당량 제한이 있어서 사설망보다 관리가 필요
- e.g. 웹 서버, 회사 네트워크 라우터, 인터넷 통신 시 사용

<br/>

### 사설 IP
: 로컬 네트워크(집, 회사) 내부에서만 사용하는 IP 주소
중복 가능 (인터넷에 직접 노출되지 않음)
- 라우터(DHCP 서버)가 자동 할당
- 주소 범위: RFC 1918에 의해 정의된 범위
10.0.0.0 ~ 10.255.255.255
172.16.0.0 ~ 172.31.255.255
192.168.0.0 ~ 192.168.255.255
- 인터넷과 직접 연결되지 않음 : NAT(Network Address Translation)를 통해 공인 IP를 거쳐 인터넷 접속
- 내부 장치끼리 통신할 때 사용
- 보안과 관리가 상대적으로 쉬움
- e.g. 집/회사 내부 컴퓨터, 스마트폰, 프린터 등
- 왜 필요한가?
IPv4가 부족 (IPv4는 약 42억개 주소밖에 없음)
전세계 모든 기기에 공인 IP 부여 불가
⇒ 사설 IP와 **NAT (Network Address Translation)** 을 사용해 문제 해결

- c.f. NAT: 네트워크 주소 변경
사설 IP를 가진 기기가 인터넷(공인 IP 네트워크)에 접속할 수 있게 해주는 기술
    - 라우터가 내부 사설 IP → 외부 공인 IP로 **주소 변환**
    - 하나의 공인 IP로 여러 사설 IP 기기들이 인터넷 사용 가능
- 사설 IP 확인 방법(IPv4) 주소: `ipconfig`


<br/>


### c.f. NAT (Network Address Translation)

:사설 IP를 가진 내부 기기들이 공인 IP 하나로 인터넷에 접속할 수 있게 해주는 기술
```
[내부 PC1] 192.168.1.2:50001 ──┐
[내부 PC2] 192.168.1.3:50002 ──┤ NAT 라우터 ──> [인터넷 서버] 203.0.113.10

```

- IPv4 주소가 부족해서 모든 기기에 공인 IP를 줄 수 없음
- 하나의 공인 IP로 여러 기기를 대신 연결시킴
-> 제한된 공인 IP를 효율적으로 사용

1. 내부 장치가 인터넷에 접속하려고함
2. 내부 라우터(공유기)가 패킷을 받아 공인 IP로 변환
3. 포트 번호를 기반으로 내부 장치를 구분
4. 인터넷 서버가 응답을 보내면, 라우터가 포트번호를 보고 원래 사설 IP장치로 전달

| 종류                                                  | 특징                            | 사용 사례                 |
| --------------------------------------------------- | ----------------------------- | --------------------- |
| **Static NAT**                                      | 사설 IP ↔ 공인 IP를 1:1 매핑         | 서버 공개용, 외부 접근 필요      |
| **Dynamic NAT**                                     | 사설 IP 여러 개를 공인 IP 풀에서 동적으로 할당 | 내부 장치가 많지만 IP가 제한적일 때 |
| **PAT (Port Address Translation, 흔히 NAT Overload)** | 하나의 공인 IP로 여러 사설 IP를 포트로 구분   | 일반 가정, 사무실 인터넷 공유     |


<br/>

### 공인 IP & 사설 IP
- 집이나 회사에서 여러 장치가 인터넷을 쓸 때, 각 장치는 사설 IP를 가짐
- 라우터(공유기)는 공인 IP를 받아 인터넷과 통신
- NAT를 통해 여러 사설 IP 장치가 하나의 공인 IP를 공유하며 인터넷 접속 가능

비유:
공인 IP → 집 주소 (외부에서 찾아올 수 있음)
사설 IP → 집 안의 방 번호 (집 안에서는 유일하지만, 외부에서는 중복 가능)